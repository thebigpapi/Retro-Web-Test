{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var field \EasyCorp\Bundle\EasyAdminBundle\Dto\FieldDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}
{# this is a bit ugly, but Twig doesn't have a 'is numeric' test #}
{% if field.customOptions.get('byCount') %}
    {% if field.value.values|length > 0 %}
        <span class="badge badge-primary">{{ field.value.values|length }} item{% if field.value.values|length > 1 %}s{% endif %}</span>
    {% else %}
        <span class="badge badge-secondary">Empty</span>
    {% endif %}
{% else %}
    {% if field.formattedValue matches '/^\\d+$/' %}
        <span class="badge badge-secondary">{{ field.formattedValue }}</span>
    {% else %}
        {{ field.formattedValue }}
    {% endif %}
{% endif %}