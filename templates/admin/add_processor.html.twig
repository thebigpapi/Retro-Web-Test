{% extends 'admin/header.html.twig' %}

{% block title %}Manage coprocessors{% endblock %}

{% block body %}
<div style="height:6em;"></div>

{{ form_start(form, {'method': 'POST'}) }}
<div class="editasset">
	<h2><b>Edit: Processors</b></h2> {{form_widget(form.save)}}
    <table class="editasset">
		
		<tr>
			<td>{{form_label(form.manufacturer)}}</td>
			<td>{{form_widget(form.manufacturer)}}</td>
		</tr>
		<tr>
			<td>{{form_label(form.name)}}</td>
			<td>{{form_widget(form.name)}}</td>
		</tr>
		<tr>
			<td>Part number</td>
			<td>{{form_widget(form.partNumber)}}</td>
		</tr>
		<tr>
			<td>{{form_label(form.speed)}}</td>
			<td>{{form_widget(form.speed)}}</td>
		</tr>
		<tr>
			<td>{{form_label(form.fsb)}}</td>
			<td>{{form_widget(form.fsb)}}</td>
		</tr>
        <tr>
			<td>{{form_label(form.platform)}}</td>
			<td>{{form_widget(form.platform)}}</td>
		</tr>
        <tr>
			<td>{{form_label(form.L1)}}</td>
			<td>{{form_widget(form.L1)}}</td>
		</tr>
        <tr>
			<td>{{form_label(form.L2)}}</td>
			<td>{{form_widget(form.L2)}}</td>
		</tr>
        <tr>
			<td>{{form_label(form.L3)}}</td>
			<td>{{form_widget(form.L3)}}</td>
		</tr>
	</table>
	<div>
		<p>Instruction sets:</p> 
		<button type="button" onclick="expand('instructionSets-fields-list')">Add instruction set</button>
		
        {{ form_errors(form.instructionSets) }}
        <div id="instructionSets-fields-list" data-widget-counter="{{ form.instructionSets|length }}"
            data-prototype="{{ form_widget(form.instructionSets.vars.prototype)|e }}
			<button type=button onclick=this.parentNode.parentNode.removeChild(this.parentNode);>Del</button>">
            {% for processorInstructionSet in form.instructionSets %}
            <div>
                {{ form_errors(processorInstructionSet) }}
                {{ form_widget(processorInstructionSet) }}
                <button type="button" onclick="this.parentNode.parentNode.removeChild(this.parentNode);">Del</button>
            </div>
            {% endfor %}
        </div>
	</div>  
</div>
<!-- {{ form_rest(form)|replace({'<input': ' --><input'})|raw }}
<script src="{% if app.request.attributes.get('_route') == "processor_edit" %}../{% endif %}../assets/add-collection-widget.js"></script>
{% endblock %}