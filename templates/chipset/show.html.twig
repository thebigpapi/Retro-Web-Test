{% extends 'base.html.twig' %}
{% from 'macros/largeFile.html.twig' import link as driverLink %}
{% from 'macros/largeFile.html.twig' import header as driverHeader %}

{% block title %}
	{% if chipset.getManufacturer() is not null %}
		{{ chipset.getManufacturer().getShortNameIfExist() }}
	{% else %}
		{% trans %}Unknown{% endtrans %}
	{% endif %}
	{{ chipset.getPartNo() }}
{% endblock %}

{% block body %}
<div class="title">
	<b>
		{% if chipset.getManufacturer() is not null %}
			{{ chipset.getManufacturer().getShortNameIfExist() }}
		{% else %}
			Unknown
		{% endif %}
        {{ chipset.getPartNo() }}
		({{ chipset.getName() }})
	</b>
</div>
<div class="show-images" id="sh-images">
{% if chipset.getChipsetParts() is not empty %}
    {% for chipPart in chipset.getChipsetParts() %}
        {% if chipPart.getImages() is not empty %}
        {% for image in chipPart.getImages()|sort((a, b) => a.motherboardImageType <=> b.motherboardImageType) %}
            <div class="show-image">
				<a href="{{ vich_uploader_asset(image, 'imageFile')}}" class="glightbox" data-description="{% if image.description %}Notes: {{ image.description }}{% endif %}">
					<img src="{{ vich_uploader_asset(image, 'imageFile') | imagine_filter('motherboard_show_thumb') }}
                    " alt="" title="{% if image.description %}{{ image.description }}{% endif %}" alt="">
				</a>
			{% if image.creditor %}
				<span class="creditor">
					{% if image.creditor.website %}
						<a href="{{ image.creditor.website }}">{% trans %}Image by{% endtrans %}
							{{ image.creditor.name }}</a>
					{% else %}
						{% trans %}Image by{% endtrans %}
						{{ image.creditor.name }}
					{% endif %}
				</span>
			{% endif %}
		</div>
        {{ chipPart.getFullName() }}
        {% endfor %}
        {% endif %}
    {% endfor %}
{% else %}
	<div class="show-image">
		<img src={{ absolute_url(asset('build/images/motherboard/image-missing.webp')) }} title="no images available :(">
	</div>
{% endif %}
</div>
<div class="show-general" id="sh-general">
	<table class="stbl">
		<tr>
			<td>
				<div style="width:170px;">{% trans %}Release date:{% endtrans %}</div>
			</td>
			<td style="width: 100%;">
				{% if chipset.getReleaseDate() is not null %}
					{{ chipset.getReleaseDate() }}
				{% else %}
					{% trans %}Unknown{% endtrans %}
				{% endif %}
			</td>
		</tr>
	{% if chipset.getBiosCodes() is not empty %}
		<tr>
			<td>{% trans %}BIOS codes{% endtrans %}:</td>
			<td>
				test
			</td>
		</tr>
	{% endif %}
    {% if chipset.getChipsetParts() is not empty %}
        <tr>
			<td>{% trans %}Chipset parts{% endtrans %}:</td>
        <td>
        <ul>
        {% for chipPart in chipset.getChipsetParts() %}
            <li>{{ chipPart.getFullName() }}</li>
        {% endfor %}
        </ul>
        </td>
    {% endif %}
    </table>
</div>
<div class="show-downloads" id="sh-downloads">
	<div class="scroll-div">
		<img src="{{ absolute_url(asset('build/icons/show/hardware.svg')) }}" alt="" width="32" style="vertical-align: middle;padding-bottom: 10px;">
		<span><b>{% trans %}Drivers:{% endtrans %} </b></span>
		{% if chipset.getDrivers() is not empty %}
		<span>{{ chipset.getDrivers.count() }}{% if chipset.getDrivers.count() == 1 %} entry{% else %} entries{% endif %}</span>
		<table class="stbl">
			<tr class="stbl-head">{{ driverHeader() }}</tr>
			{% for driver in chipset.getDrivers() %}{{ driverLink(driver.largeFile) }}{% endfor %}
		</table>
		{% else %}
		<span>not available</span>
		{% endif %}
	</div>
    <div class="scroll-div">
		<img src="{{ absolute_url(asset('build/icons/show/manual.svg')) }}" alt="" width="32" style="vertical-align: middle;padding-bottom: 10px;">
		<span><b>{% trans %}Documentation{% endtrans %}: </b></span>
		<span>to be added</span>
	</div>
</div>
{% endblock %}
