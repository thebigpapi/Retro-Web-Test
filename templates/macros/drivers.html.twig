<div class="show-downloads-group">
    <div class="show-downloads-group-header">
        <img src="{{ absolute_url(asset('build/icons/hardware.svg')) }}" alt="drv" width="32" height="32">
        <span>{{ entity.count() }} driver{% if entity.count() != 1 %}s{% endif %} available</span>
    </div>
    {% if entity is not empty %}
    <div class="plain-list w300p table">
        <div class="list-entry centered head">
            <div>Language</div>
            <div>Media type</div>
            <div>OS support</div>
            <div>Name</div>
            <div>Version</div>
        </div>
        {% for driver in entity %}
        <div class="list-entry centered {% if loop.index is divisible by(2) %}alt{% endif %}">
            <div class="header-label">Language</div>
            <div>
                <div class="tag-container">
                {% for lang in driver.largeFile.getLanguages() %}
                <span class="combo">
                    <img src="{{ asset('build/icons/language/' ~ lang.getIsoCode ~ '.svg') }}" alt="{{lang.getOriginalName()}}" title="{{lang.getOriginalName()}}" class="lang-flag{% if loop.length > 4 %}-lrg{% endif %}">
                </span>
                {% endfor %}
                </div>
            </div>
            <div class="header-label">Media type</div>
            <div>
                {% for relation in driver.largeFile.getMediaTypeFlags() %}
                <span class="combo">
                    <b>{{relation.getCount()}}x</b>
                    <img src="{{ vich_uploader_asset(relation.getMediaTypeFlag(), 'icon')}}" alt="{{relation.getMediaTypeFlag().getName()}}" title="{{relation.getMediaTypeFlag().getName()}}" width="32">
                </span>
                {% endfor %}
            </div>
            <div class="header-label">OS support</div>
            <div>
                <div class="tag-container">
                {% for os in driver.largeFile.getOsFlags()|sort((a, b) => a.getName <=> b.getName)|sort((a, b) => a.getVersion <=> b.getVersion) %}
                <span class="text-block">
                    <img src="{{ asset('build/icons/os/' ~ os.getVersion ~ '.svg') }}" alt="{{os.getVersion}}"  width="16">
                    <span>{{os.getName()}}</span>
                </span>
                {% endfor %}
                </div>
            </div>
            <div class="header-label">Name</div>
            <div><a href="{{ path("driver_show", {id: driver.largeFile.getId()}) }}">{{driver.largeFile.getName()}}</a></div>
            <div class="header-label">Version</div>
            <div>
                <a class="combo" href="{{ vich_uploader_asset(driver.largeFile, 'file')}}">
                    <img src="{{ absolute_url(asset('build/icons/dw.svg')) }}" alt="" width="16">
                    <span>{{ driver.largeFile.getFileVersion() ? driver.largeFile.getFileVersion() : 'Unknown' }}</span>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    {% endif %}
</div>