export default class t{constructor(t,i,s=null){if(this.img=t,this.slide=i,this.onclose=s,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",t=>this.dragStart(t),!1),this.img.addEventListener("mouseup",t=>this.dragEnd(t),!1),this.img.addEventListener("mousemove",t=>this.drag(t),!1),this.img.addEventListener("click",t=>this.slide.classList.contains("dragging-nav")?(this.zoomOut(),!1):this.zoomedIn?void(this.zoomedIn&&!this.dragging&&this.zoomOut()):this.zoomIn(),!1),this.img.setZoomEvents=!0}zoomIn(){let t=this.widowWidth();if(this.zoomedIn||t<=768)return;let i=this.img;if(i.setAttribute("data-style",i.getAttribute("style")),i.style.maxWidth=i.naturalWidth+"px",i.style.maxHeight=i.naturalHeight+"px",i.naturalWidth>t){let s=t/2-i.naturalWidth/2;this.setTranslate(this.img.parentNode,s,0)}this.slide.classList.add("zoomed"),this.zoomedIn=!0}zoomOut(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}dragStart(t){if(t.preventDefault(),!this.zoomedIn){this.active=!1;return}"touchstart"===t.type?(this.initialX=t.touches[0].clientX-this.xOffset,this.initialY=t.touches[0].clientY-this.yOffset):(this.initialX=t.clientX-this.xOffset,this.initialY=t.clientY-this.yOffset),t.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))}dragEnd(t){t.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(()=>{this.dragging=!1,this.img.isDragging=!1,this.img.classList.remove("dragging")},100)}drag(t){this.active&&(t.preventDefault(),"touchmove"===t.type?(this.currentX=t.touches[0].clientX-this.initialX,this.currentY=t.touches[0].clientY-this.initialY):(this.currentX=t.clientX-this.initialX,this.currentY=t.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}onMove(t){if(!this.zoomedIn)return;let i=t.clientX-this.img.naturalWidth/2,s=t.clientY-this.img.naturalHeight/2;this.setTranslate(this.img,i,s)}setTranslate(t,i,s){t.style.transform="translate3d("+i+"px, "+s+"px, 0)"}widowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}};