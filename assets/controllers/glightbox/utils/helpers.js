let uid=Date.now();export function extend(){let t={},e=!0,n=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);let o=n=>{for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e&&"[object Object]"===Object.prototype.toString.call(n[i])?t[i]=extend(!0,t[i],n[i]):t[i]=n[i])};for(;n<i;n++){let r=arguments[n];o(r)}return t}export function each(t,e){if((isNode(t)||t===window||t===document)&&(t=[t]),isArrayLike(t)||isObject(t)||(t=[t]),0!=size(t)){if(isArrayLike(t)&&!isObject(t)){let n=t.length,i=0;for(;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}else if(isObject(t)){for(let o in t)if(has(t,o)&&!1===e.call(t[o],t[o],o,t))break}}}export function getNodeEvents(t,e=null,n=null){let i=t[uid]=t[uid]||[],o={all:i,evt:null,found:null};return e&&n&&size(i)>0&&each(i,(t,i)=>{if(t.eventName==e&&t.fn.toString()==n.toString())return o.found=!0,o.evt=i,!1}),o}export function addEvent(t,{onElement:e,withCallback:n,avoidDuplicate:i=!0,once:o=!1,useCapture:r=!1}={},s){let l=e||[];function a(t){isFunction(n)&&n.call(s,t,this),o&&a.destroy()}return isString(l)&&(l=document.querySelectorAll(l)),a.destroy=function(){each(l,e=>{let n=getNodeEvents(e,t,a);n.found&&n.all.splice(n.evt,1),e.removeEventListener&&e.removeEventListener(t,a,r)})},each(l,e=>{let n=getNodeEvents(e,t,a);(e.addEventListener&&i&&!n.found||!i)&&(e.addEventListener(t,a,r),n.all.push({eventName:t,fn:a}))}),a}export function addClass(t,e){each(e.split(" "),e=>t.classList.add(e))}export function removeClass(t,e){each(e.split(" "),e=>t.classList.remove(e))}export function hasClass(t,e){return t.classList.contains(e)}export function closest(t,e){for(;t!==document.body;){if(!(t=t.parentElement))return!1;let n="function"==typeof t.matches?t.matches(e):t.msMatchesSelector(e);if(n)return t}}export function animateElement(t,e="",n=!1){if(!t||""===e)return!1;if("none"==e)return isFunction(n)&&n(),!1;let i=whichAnimationEvent(),o=e.split(" ");each(o,e=>{addClass(t,"g"+e)}),addEvent(i,{onElement:t,avoidDuplicate:!1,once:!0,withCallback(t,e){each(o,t=>{removeClass(e,"g"+t)}),isFunction(n)&&n()}})}export function cssTransform(t,e=""){if(""==e)return t.style.webkitTransform="",t.style.MozTransform="",t.style.msTransform="",t.style.OTransform="",t.style.transform="",!1;t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}export function show(t){t.style.display="block"}export function hide(t){t.style.display="none"}export function createHTML(t){let e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e}export function windowSize(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}export function whichAnimationEvent(){let t,e=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}export function whichTransitionEvent(){let t,e=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}export function waitUntil(t,e,n,i){if(t()){e();return}n||(n=100);let o,r=setInterval(()=>{t()&&(clearInterval(r),o&&clearTimeout(o),e())},n);i&&(o=setTimeout(()=>{clearInterval(r)},i))}export function isMobile(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}export function isTouch(){return null!==isMobile()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints}export function isFunction(t){return"function"==typeof t}export function isString(t){return"string"==typeof t}export function isNode(t){return!!(t&&t.nodeType&&1==t.nodeType)}export function isArray(t){return Array.isArray(t)}export function isArrayLike(t){return t&&t.length&&isFinite(t.length)}export function isObject(t){return"object"==typeof t&&null!=t&&!isFunction(t)&&!isArray(t)}export function isNil(t){return null==t}export function has(t,e){return null!==t&&hasOwnProperty.call(t,e)}export function size(t){if(!isObject(t))return t.length;{if(t.keys)return t.keys().length;let e=0;for(let n in t)has(t,n)&&e++;return e}}export function isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}